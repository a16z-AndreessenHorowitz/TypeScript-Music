extends ../layouts/default.pug 
block main
  h1(class="mb-4") #{pageTitle}

  form(action=`${prefixAdmin}/songs/edit/${song.id}?_method=PATCH` method="POST" enctype="multipart/form-data")
    .form-group
        label(for="title") Tiêu đề
        input#title.form-control(type="text" name="title" required value=song.title)

    .form-group
        label(for="topic") Chủ đề
        select#topic.form-control(name="topicId" required)
          option(value="" disabled) -- Chọn chủ đề --
          each item in topics
            option(value=item.id selected=(item.id==song.topicId ? true:false)) #{item.title}
          

    .form-group
        label(for="singer") Ca sĩ
        select#singer.form-control(name="singerId" required)
            option(value="" disabled selected) -- Chọn ca sĩ --
            each item in singers
              option(value=item.id selected=(item.id==song.singerId ? true:false)) #{item.fullName}

    div.form-group(upload-image)
      label(for="avatar") Ảnh
      input(
        type="file"
        class="form-control-file"
        id="avatar"
        name="avatar"
        accept="image/*"
        upload-image-input
      )
      img(
        src=song.avatar
        class="image-preview"
        upload-image-review
      )
      button.hidden(type="button" button-close-image) X

    //- //upload file audio
    div(class="form-group" upload-audio)
      lable(for="audio") File âm thanh
      input(
        type="file"
        class="form-control-file"
        id="audio"
        name="audio"
        accept="audio/*"
        upload-audio-input
      )
      audio(
        src=song.audio
        class="audio-preview"
        controls=song.audio ? true: false
        upload-audio-review
      )
      button.hidden(type="button" button-close-audio) X

    //- Nhập lyric 
    div(class="form-group")
      lable(for="lyrics") Lời bài hát
      textarea(
        name="lyrics"
        rows="20"
        id="lyrics"
        class="form-control"
      ) #{song.lyrics}
    
    .form-group
        label(for="desc") Mô tả
        textarea#desc.form-control.textarea-mce.tinymce(
            type="text"
            name="description"
            rows="5"
        ) #{song.description}

    .form-group.form-check.form-check-inline
        input#statusActive.form-check-input(
            type="radio" 
            name="status" 
            value="active" 
            checked=(song.status== "active" ? true : false)
        )
        label.form-check-label(for="statusActive") Hoạt động

    .form-group.form-check.form-check-inline
        input#statusInactive.form-check-input(
            type="radio" 
            name="status" 
            value="inactive"
            checked=(song.status== "inactive" ? true : false)
        )
        label.form-check-label(for="statusInactive") Dừng hoạt động
    div(class="form-group")
      button(
        type="submit"
        class="btn btn-primary"
      ) Cập nhật